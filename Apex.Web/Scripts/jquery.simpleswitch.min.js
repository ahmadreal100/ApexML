!function (e) { e.fn.extend({ simpleSwitch: function () { function c(e) { var c = e; c.prop("checked") ? (c.attr("data-switch", !0), c.parent().removeClass("unchecked").addClass("checked")) : (c.attr("data-switch", !1), c.parent().removeClass("checked").addClass("unchecked")) } this.each(function () { var c = e(this), t = c.prop("checked"); if (!c.parent().hasClass("simple-switch-outter")) { c.addClass("simple-switch"); var a = ""; a += '<label class="simple-switch-outter">', a += c.prop("outerHTML"); var s = e(a += '<span class="simple-switch-circle"></span></label>'); s.find(".simple-switch").prop("checked", t), c.replaceWith(s) } }), e(".simple-switch").each(function () { var t = e(this); c(t), t.click(function () { c(e(this)) }); var a = { x: 0, y: 0 }, s = t.parent().find(".simple-switch-circle").get(0); s.addEventListener("touchstart", function (e) { a = { x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY } }, !1), s.addEventListener("touchmove", function (e) { e.preventDefault(), { x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY } }, !1), s.addEventListener("touchend", function (e) { ({ x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY }).x != a.x && t.trigger("click"), a = { x: 0, y: 0 }, { x: 0, y: 0 } }, !1) }) } }) }(jQuery);